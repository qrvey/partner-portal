---
id: metadata-overview
title: Overview
sidebar_label: Overview
---
<div style={{textAlign: "justify"}}>

Metadata is how we define the column mappings and transformations required by your data to be used within a **Qrvey Application**.

Before you can start uploading data into **DataRouter**, you have to construct a new metadata definition and use the Metadata API to save the metadata definition to DataRouter.

## Definition

A metadata corresponds to a definition of the data that the user wants to upload. It is a JSON format that allows you to create a schema that refers to how you want to save the data, taking into account the columns, the data rules and other elements that allows to create mutations of the information. Likewise, it has rules on the data that allows the creation of new destinations for the information with these rules.

</div>

## Metadata properties:

| Required | Field             | Data type       | Description                                                                                                                                                           |
| -------- | ----------------- | --------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Yes      | indexName         | Text            | Name of the index in Elastic Search, this field must be in **_lowercase_**.                                                                                           |
| Yes      | dateFormat        | Text            | Date format that will be applied in all types of data.                                                                                                                |
| Yes      | skipOnPartialData | Boolean         | indicates if it is going to skip the transformations are going to be skipped in case the fields for the execution of a transformation does not exist inside the data. |
| Yes      | columnType        | List of values  | Establishes the name of the columns that are gonna to be inserted in elasticsearch. It uses 2 fields: `columnName` and `Type` .                         |
| No       | MetaDataId        | Text            | Metadata identifier, can be defined by the user or autogenerated.                                                                                                     |
| No       | published         | Boolean         | Used by the UI to determine if a metadata is on draft mode or is ready for production                                                                                 |
| No       | refreshIndex      | Text            | Determine the refresh rate to the ES index, if is not present, the default value, is the one used by the ES Cluster.                                                  |
| No       | internal          | Boolean         | Allow the metadata to be visible on searchs, if `true` the metadata wont be shown on the queries, a internal metadata is generated by the DR application       |
| No       | transforms        | List of objetcs | Define a list of objetcs (`Data Rules`), used to manipulate/mutate/transform the data before store it in the ES Cluster                                        |

## columnType data types:

| Value              | Type   |
| ------------------ | ------ |
| text-label         | String |
| text-category      | String |
| text               | String |
| numeric-currency   | number |
| numeric-percentage | number |
| numeric-general    | number |
| numeric-integer    | number |
| Date               | String |
| Object             | Array  |

### columType: type: object example

```JSON

"columnName": "Name",
"type": "object",
"properties": [
    {
        "columnName": "Name",
        "type": "Type"
    }
]

```

## Transformations' structure:

This is how DR manipulates/mutates/transforms the data, before inserting it into `elasticsearch`, it performs a call to a function to manipulate the data on specific fields, and then, it `updates` or `adds` a column into the index in elasticsearch.

&gt; Note: `transforms` can modify the data when updating a `column`, while `Data Rules` will only create (`add`) a new column to store the modified data.

```JSON

"transforms": [
    {
        "id": "transformId",
        "function": {
            "function_name": {
                "fields": [
                    "columnName",
                    "ColumnName"
                ]
            }
        },
        "action": {
            "add": {
                "columnName": "columnName"
            }
        }
    }
]

```


