---
id: release-last
title: Qrvey 8.7
sidebar_label: Qrvey 8.7
tags: [Software Developer, Solution Architect, CloudOps Engineer, Data Analyst]
---

# Qrvey 8.7

### Qrvey 8.7

Release Date: 2024-09-30

> **Note:** If you wish to upgrade to this version, please contact the CX team if you have a Managed Infrastructure contract. Otherwise, please see the [Upgrade Notes](../upgrade-notes) document for important notes and access to the upgrade link.

### New Features & Enhancements


- **Make Filters Part of EUP:** A new property has been added to the End User widget’s configuration, allowing users to enable or disable a mode where Filter Personalizations can be autosaved or not. Filters can also be restored using the restore button in dashboards.

- **Support clientId and Personalizations in Automation:** A solution was implemented for the Workflows widget to display Flows with the `qv_token` correctly.

- **Implement Unsubscribe Page for Subscriptions:** An Unsubscribe page was implemented where users can confirm their wish to stop receiving emails from a subscription, scheduled export, and/or flow.

- **New Self-Service Options for All Charts:** New self-service options like exporting different formats, filtering, and fit-to-panel were added for all charts.

- **Area Chart:** The chart builder now includes a new variation of a line chart called the Area Chart, which depicts one dimension and one metric, with the dimension typically being a continuous variable like time.

- **Pivoting for Export:** A new feature was added allowing users to configure a dataset with the necessary columns for pivoting, and then export the pivoted data to CSV from dashboards. Users can select which columns to include in the export, both from the original dataset columns and those generated from the pivoting.

<!-- 
**New Self-Service Options for All Charts** — When creating or editing a chart from the Chart Builder, it is now possible to configure whether the following options should be available for a chart: panel filtering, fit-to-panel, and exports (including the ability to control each export format individually).
**Area Chart** — We now offer single and multi-series Area Charts, which are variations of line charts. These depict one dimension and one metric, with the dimension typically being a continuous variable, such as time.
**Support for ClientId and Personalizations in Automation** — The Automation (Flows) widget now supports the `clientId` property, allowing flows to be saved per end user. Additionally, when this property is provided, users can choose to export either the original or personalized versions of dashboards, if the personalized version was created under the same `clientId`.

**Implement Unsubscribe Page for Subscriptions, Scheduled Exports, and Flows** — A new page has been implemented requiring users to confirm whenever they want to unsubscribe from any of their email exports.

**Pivoting for Exports** — This feature allows you to configure a dataset with the necessary columns for pivoting and then export the pivoted data to CSV from dashboards. Users can select which columns to include in the export, both from the original dataset columns and the columns generated by pivoting. Alternatively, datasets can be exported to CSV without applying pivoting. 
-->


### General Tweaks & Fixes

- **Fix Security Token API — AWS Native Version** — Resolved security issues in the AWS native version of the Security Token API.
- **Flatten Transformation Causing Athena Join Query Error** — Fixed an error during the Athena process when a joined dataset contains a flatten transformation applied as a pre-join transform.
- **Error Inspecting Columns to Fetch New Columns from Data Source** — Fixed an issue when refreshing columns to fetch new columns from the data source.
- **DynamoDB Clients Being Consumed When Creating, Updating, or Deleting Columns** — Fixed a random error when loading multiple datasets simultaneously, particularly involving column creation, deletion, or updates.
- **inputFormat.format Ignored When Loading Datasets with Date-Time Columns** — Fixed an issue where the inputFormat object was ignored when loading datasets with date-time columns.
- **Mechanism to View Large Table Lists in Connections** — Implemented a mechanism to view tables from a data source, regardless of how many tables exist.
- **Join: Garbage Collector Removes Lake Files When Job Fails or Is Canceled** — Fixed a data loss issue where the Garbage Collector incorrectly removed data lake files during a join when the process was interrupted during a compaction process.
- **Dataset Columns Displayed with Two Decimal Places by Default** — Fixed an issue where numeric columns defaulted to two decimal places instead of integers when creating datasets via API.
- **Join Lake Optimization Fails Due to UniqueId Column with Whitespace** — Fixed a failure in the Join Lake Optimization process caused by a unique identifier column containing a whitespace.
- **Data Loading Fails Due to Invalid Binary Character** — Fixed an issue where loading a dataset containing non-printable characters into AWS SQS caused a failure.
- **Duplicate Entries When Sharing Previously Shared Applications** — Fixed an issue where sharing a previously shared application created duplicate entries in the database.
- **Error During Upgrade Process Due to Memory Limitation** — Fixed a memory issue that caused the upgrade script to run out of memory and fail during the auto-deployment process.
- **FIPS - MSSQL/MySQL Connections Can't Be Created** — Fixed an issue preventing users from creating connections using MySQL and MSSQL under FIPS mode.
- **Schedule Date Shows One Day Before Selected Date** — Fixed issues with date selection for certain time zones in Scheduled Exports.
- **View/Edit Schedule Popup Time Error Message Is Incorrect** — Improved error messages for set date and times in Scheduled Exports.
- **Exports Do Not Complete Due to Retry Limit** — Implemented error handling and retries for CSV raw exports.
- **baseUrl Only Applied for Exports of Zip Files** — Fixed an issue where the baseUrl property was only applied to exports of zip files, ensuring it now applies to all export types.
- **Cloning a Page with the Publish Parameter Not Working** — Fixed the clone page external endpoint to publish the page correctly when the `publish=true` parameter is included.
- **New Applications Not Published via API** — Fixed the update dashboard process to ensure new applications are published correctly via API.
- **Incorrect Actions Returned in Dashboards** — Fixed an issue where personalized actions were returned instead of original actions, depending on the dashboard version in use.
- **“Discard Changes” Feature in Dashboard Builder Not Restoring Chart Actions** — Fixed the “Discard Changes” feature to ensure chart actions are restored correctly in the Dashboard Builder.
- **Dashboards Stuck in Loading State When Personalization Disabled** — Fixed an issue where dashboards were stuck in a loading state when personalization was set to false.
- **Conditional Formatting Removed When Moving Columns in Table Chart** — Fixed an issue where conditional formatting was removed when moving columns inside a table.
- **Filter By Action Not Triggered in Grouped Tables** — Fixed an issue where the Filter By action was not triggered when it was the only action on the chart.
- **Tabular View and Table Chart Not Showing Rows** — Applied improvements to Tabular View to support formulas with a large set of nested formulas.
- **See Data Action Removes Chart Filters When Changed to Dashboard Filters** — Fixed the See Data action so that it no longer removes chart filters when switching to dashboard filters.


<!-- 
- **Security Enhancements for Token Generation** — This release addresses security vulnerabilities in the `/devapi/v4/core/login/token` endpoint by enforcing user ID requirements for token generation, preventing unauthorized access to Admin endpoints and restricted applications, and invalidating previously created tokens.

- **Dataset Join Error with Flatten Transformations** — Fixed issue when joining datasets where one source has a flatten transformation applied on paths that overlap (e.g., `forms.primary_forms.department` and `forms.primary_forms.department_assigned_to`), causing Athena to throw a `HIVE_BAD_DATA` error due to a data type mismatch, which prevents the join operation from completing successfully.

- **Column Type Validation on Reload** — Resolved a problem where manually changing a column type from `NUMERIC` to `TEXT` in a dataset and applying changes caused the system to fail with a `"ValidationError: oldColumnType is not allowed"` ensuring successful reload and correct column type assignment.

- **DynamoDB Connection Limit and CORS Errors** — Resolved issues where opening multiple simultaneous connections to DynamoDB caused 502 Bad Gateway errors and where large workflows with millions of executions resulted in CORS errors, ensuring stable operation during high-volume dataset loads and chart rendering.

- **Input Format Not Being Set for Datasets** — Resolved an issue where the input format was not being set when creating datasets from databases (e.g., MySQL, Postgres) via UI or API, restoring the ability for users to specify input formats as required.

- **Implemented Pagination and Scrolling for Database Tables in Connections** — Added functionality allowing users to paginate or scroll through tables when selecting from a database connection, ensuring visibility of any number of tables with 20 tables displayed per page, along with search capabilities across all pages.
- **Data Loss Issue During Join Process with Compaction** — Resolved an issue where a data lake was mistakenly removed from S3 when a join process was interrupted (failed or cancelled) during compaction, preventing future sync failures by ensuring data is retained in such cases.
- **Numeric Columns Defaulting to 2 Decimal Points** — Resolved an issue where numeric columns in datasets created via API defaulted to 2 decimal points when inputFormat and outputFormat properties were not specified, ensuring that numeric columns default to 0 decimal points in such cases.
- **JLO Failing Due to Whitespace in Unique ID Column** — Resolved an issue where the join optimization process (JLO) failed when a column used as a unique identifier contained a whitespace, preventing the process from completing successfully.
- **Non-Printable Characters in CSV Files Causing Dataset Load Failures** — Resolved an issue where loading a dataset with a CSV file containing non-printable characters (e.g., `#xFFFF`) into AWS SQS resulted in an error, ensuring that such characters are handled correctly without causing the dataset load to fail.
- **Duplicate App Sharing Entries in DynamoDB** — Resolved an issue where the UI allowed applications to be shared with the same user multiple times, creating duplicate entries in the `manualqastgGroups` DynamoDB table and causing Lambda timeouts, by preventing duplicate sharing and logging.
- **Memory Issue During QrveyAnswers Upgrade Script** — Resolved an issue where an upgrade script for QrveyAnswers (webform responses) ran out of memory when processing large datasets (e.g., 110K records) during an upgrade from version 7.8 to 8.4, ensuring the script completes successfully without system downtime.
- **Column Type Background Style Inconsistency** — Resolved an issue where the background style of the column type in the Dataset page appeared differently compared to the Demo environment, ensuring consistent styling across environments.
- **Issue with Column Type Validation on Dataset Reload** — Resolved an issue where reloading a dataset after manually changing column types resulted in a "ValidationError:
- **OpenID Login Issue with Microsoft Configuration** — Requesting assistance from DevOps to configure OpenID with Microsoft using the provided URL (`https://manualqastg.qrvey.com/app/index.html`). After entering credentials and resetting the password, the login process fails with the error message: “ExpressionAttributeValues must not be empty,” preventing successful login.
- **Implemented Pagination and Scrolling for Database Tables in Connections** — Added functionality allowing users to paginate or scroll through tables when selecting from a database connection, ensuring visibility of any number of tables with 20 tables displayed per page, along with search capabilities across all pages.
- **Data Sync Error Reporting in Activity Log** — Resolved an issue where data syncs using datasets as sources did not run if a source was in the loading state, and the error was only logged in CloudWatch. The error message now appears in the dataset activity log, providing better visibility to users.
- **Node.js Vulnerability Fixed** — Resolved security issue in the Node.js library.
- **Time Zone Date Selection in Scheduled Exports** — Resolved issues with date selection for specific time zones in scheduled exports.
- **Improved Error Messaging for Date and Time in Scheduled Exports** — Enhanced error messages for clarity when setting date and time in scheduled exports.
- **Error Handling and Retry Mechanism for CSV Exports** — Implemented error handling and retries for raw CSV exports to improve stability.
- **BaseUrl Application Across All Exports Fixed** — Ensured the baseUrl property is correctly applied to all export types.
- **Clone Page External Endpoint with Publish Parameter** — The clone page endpoint now publishes correctly when the publish=true parameter is included.
- **Dashboard Update Process to Prevent Failures** — Addressed issues in the dashboard update process to ensure it does not fail and publishes new applications correctly.
- **Personalized and Original Actions Based on Dashboard Version** — Resolved issues so personalized or original actions are returned correctly depending on the dashboard version.
- **"Discard Changes" in Dashboard Builder for Chart Actions** — The “Discard Changes” feature now correctly restores chart actions when applied.
- **Dashboards Stuck in Loading State with Personalization Disabled** — Resolved issues where dashboards were stuck in a loading state when personalization was set to false.
- **Conditional Formatting in Tables** — Resolved an issue where conditional formatting was removed when columns inside a table were moved.
- **Filter By Action in Grouped Tables** — Addressed an issue where the Filter By action was not triggered when it was the only action on the chart.
- **Improved Support for Large Nested Formulas in Tabular View** — Enhanced the tabular view to support formulas with a large set of nested formulas.
- **"See Data" Action to Retain Chart Filters** — The See Data action no longer removes chart filters. 
-->
